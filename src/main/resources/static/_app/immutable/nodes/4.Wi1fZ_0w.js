import{s as q,n as O,r as ne,o as X,f as Y,A}from"../chunks/scheduler.LC6wQ9wn.js";import{S as D,i as V,e as $,s as S,c as w,b as N,a as x,g as F,d as k,j as b,f as C,o as y,l as B,q as Z,m as ee,n as te,y as P,z as j,A as z,t as M,h as G,B as H}from"../chunks/index.OgIxAEEQ.js";import{e as U}from"../chunks/each.D6YF6ztN.js";import{w as le}from"../chunks/index.3rQHIXWG.js";let T=le(""),I=le(" ");function J(i,e,a){const t=i.slice();return t[10]=e[a],t}function Q(i){let e,a=i[10]+"",t,n,o;function l(){return i[4](i[10])}return{c(){e=$("button"),t=ee(a),this.h()},l(c){e=w(c,"BUTTON",{class:!0});var h=N(e);t=te(h,a),h.forEach(k),this.h()},h(){b(e,"class","svelte-1agif2y")},m(c,h){C(c,e,h),y(e,t),n||(o=B(e,"click",l),n=!0)},p(c,h){i=c},d(c){c&&k(e),n=!1,o()}}}function se(i){let e,a,t,n=".",o,l,c="0",h,m,f="C",u,s,_="=",r,L,E=U(i[0]),g=[];for(let p=0;p<E.length;p+=1)g[p]=Q(J(i,E,p));return{c(){e=$("div");for(let p=0;p<g.length;p+=1)g[p].c();a=S(),t=$("button"),t.textContent=n,o=S(),l=$("button"),l.textContent=c,h=S(),m=$("button"),m.textContent=f,u=S(),s=$("button"),s.textContent=_,this.h()},l(p){e=w(p,"DIV",{class:!0});var v=N(e);for(let d=0;d<g.length;d+=1)g[d].l(v);a=x(v),t=w(v,"BUTTON",{class:!0,"data-svelte-h":!0}),F(t)!=="svelte-1i61aoo"&&(t.textContent=n),o=x(v),l=w(v,"BUTTON",{class:!0,"data-svelte-h":!0}),F(l)!=="svelte-dt81e8"&&(l.textContent=c),h=x(v),m=w(v,"BUTTON",{class:!0,"data-svelte-h":!0}),F(m)!=="svelte-1geqqee"&&(m.textContent=f),u=x(v),s=w(v,"BUTTON",{class:!0,"data-svelte-h":!0}),F(s)!=="svelte-1w2dh0g"&&(s.textContent=_),v.forEach(k),this.h()},h(){b(t,"class","svelte-1agif2y"),b(l,"class","svelte-1agif2y"),b(m,"class","svelte-1agif2y"),b(s,"class","equalBtn svelte-1agif2y"),b(e,"class","keypad svelte-1agif2y")},m(p,v){C(p,e,v);for(let d=0;d<g.length;d+=1)g[d]&&g[d].m(e,null);y(e,a),y(e,t),y(e,o),y(e,l),y(e,h),y(e,m),y(e,u),y(e,s),r||(L=[B(t,"click",i[5]),B(l,"click",i[6]),B(m,"click",i[2]),B(s,"click",i[3])],r=!0)},p(p,[v]){if(v&3){E=U(p[0]);let d;for(d=0;d<E.length;d+=1){const K=J(p,E,d);g[d]?g[d].p(K,v):(g[d]=Q(K),g[d].c(),g[d].m(e,a))}for(;d<g.length;d+=1)g[d].d(1);g.length=E.length}},i:O,o:O,d(p){p&&k(e),Z(g,p),r=!1,ne(L)}}}function ae(i){const e=Array.from({length:9},(u,s)=>s+1);let a=I;function t(u){T.update(s=>s+u)}function n(){const u=A(T);u.charAt(u.length-1)===" "?T.set(u.toString().slice(0,-2)):T.set(u.toString().slice(0,-1))}function o(){T.set(""),I.set("")}function l(){let s=A(T).split(" ");console.log(s);let _=0;for(let r=0;r<s.length;r++)s[r]==="*"?(_=parseFloat(s[r-1])*parseFloat(s[r+1]),s.splice(r-1,3,_.toString()),r=0):s[r]==="/"&&(_=parseFloat(s[r-1])/parseFloat(s[r+1]),s.splice(r-1,3,_.toString()),r=0);for(;s.length>1;)for(let r=0;r<s.length;r++)if(s[r]==="+"){_=parseFloat(s[r-1])+parseFloat(s[r+1]),s.splice(r-1,3,_.toString());break}else if(s[r]==="-"){_=parseFloat(s[r-1])-parseFloat(s[r+1]),s.splice(r-1,3,_.toString());break}_.toString().length>16&&(_=_.toString().substring(0,15)),a.set(_.toString())}function c(u){const s=u.key;console.log("key : "+s);const _=A(T);switch(s){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":t(parseInt(s,10));break;case".":const r=_.charAt(_.length-1);console.log("check : "+r),t(r===" "||_===""?"0.":r==="."?"":".");break;case"Backspace":n();break;case"Enter":case"=":l();break;case"Delete":o();break;default:console.log("Invalid key");break}}return X(()=>{window.addEventListener("keydown",c)}),Y(()=>{window.removeEventListener("keydown",c)}),[e,t,o,l,u=>t(u),()=>t("."),()=>t(0)]}class oe extends D{constructor(e){super(),V(this,e,ae,se,q,{})}}function R(i,e,a){const t=i.slice();return t[5]=e[a],t}function W(i){let e,a=i[5]+"",t,n,o;function l(){return i[2](i[5])}return{c(){e=$("button"),t=ee(a),this.h()},l(c){e=w(c,"BUTTON",{class:!0});var h=N(e);t=te(h,a),h.forEach(k),this.h()},h(){b(e,"class","svelte-11vexo5")},m(c,h){C(c,e,h),y(e,t),n||(o=B(e,"click",l),n=!0)},p(c,h){i=c},d(c){c&&k(e),n=!1,o()}}}function ce(i){let e,a=U(i[1]),t=[];for(let n=0;n<a.length;n+=1)t[n]=W(R(i,a,n));return{c(){e=$("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=w(n,"DIV",{class:!0});var o=N(e);for(let l=0;l<t.length;l+=1)t[l].l(o);o.forEach(k),this.h()},h(){b(e,"class","symbols svelte-11vexo5")},m(n,o){C(n,e,o);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(n,[o]){if(o&3){a=U(n[1]);let l;for(l=0;l<a.length;l+=1){const c=R(n,a,l);t[l]?t[l].p(c,o):(t[l]=W(c),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=a.length}},i:O,o:O,d(n){n&&k(e),Z(t,n)}}}function ie(i){let e;T.subscribe(l=>{e=l});function a(l){T.update(c=>c+" "+l+" ")}const t=["+","-","*","/"];function n(l){const c=l.key;t.includes(c)&&(e.charAt(e.length-1)===" "||e===""||a(c))}return X(()=>{window.addEventListener("keydown",n)}),Y(()=>{window.removeEventListener("keydown",n)}),[a,t,l=>a(l)]}class re extends D{constructor(e){super(),V(this,e,ie,ce,q,{})}}function ue(i){let e,a,t,n,o,l,c,h,m;return l=new oe({}),h=new re({}),{c(){e=$("input"),a=S(),t=$("input"),n=S(),o=$("div"),P(l.$$.fragment),c=S(),P(h.$$.fragment),this.h()},l(f){e=w(f,"INPUT",{class:!0,type:!0}),a=x(f),t=w(f,"INPUT",{class:!0,type:!0}),n=x(f),o=w(f,"DIV",{class:!0});var u=N(o);j(l.$$.fragment,u),c=x(u),j(h.$$.fragment,u),u.forEach(k),this.h()},h(){b(e,"class","inputText svelte-mapigo"),b(e,"type","text"),e.readOnly=!0,e.value=i[0],b(t,"class","inputText svelte-mapigo"),b(t,"type","text"),t.readOnly=!0,t.value=i[1],b(o,"class","pads svelte-mapigo")},m(f,u){C(f,e,u),C(f,a,u),C(f,t,u),C(f,n,u),C(f,o,u),z(l,o,null),y(o,c),z(h,o,null),m=!0},p(f,[u]){(!m||u&1&&e.value!==f[0])&&(e.value=f[0]),(!m||u&2&&t.value!==f[1])&&(t.value=f[1])},i(f){m||(M(l.$$.fragment,f),M(h.$$.fragment,f),m=!0)},o(f){G(l.$$.fragment,f),G(h.$$.fragment,f),m=!1},d(f){f&&(k(e),k(a),k(t),k(n),k(o)),H(l),H(h)}}}function fe(i,e,a){let t,n;return T.subscribe(o=>{a(0,t=o)}),I.subscribe(o=>{a(1,n=o)}),[t,n]}class ge extends D{constructor(e){super(),V(this,e,fe,ue,q,{})}}export{ge as component};
